
<div class="box-body">
    <!-- LIST -->
    <div class="row">
            <div class="col-md-6">
                <div class="input-group mb-2 mr-sm-2 mb-sm-0">                                    
                    <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="Buscar"
                    [(ngModel)]="search" (keydown)="enter($event)">
                    <div style="width: 34px" class="input-group-addon">
                        <a style="cursor:pointer" (click)="getAll()"><i class="fa fa-search"></i></a> 
                    </div>
                </div>
            </div>
            <div class="col-md-6" *ngIf="!noaction">
                <button md-raised-button (click)="NEW()" color="primary" class="btn-w-md no-margin-left btn-right">Nuevo</button>                                                        
            </div>  
        
        <div class="col-sm-12">
            
            <div class="box box-default table-box table-responsive mdl-shadow--2dp">
                
                <table class="mdl-data-table table-bordered table-striped cf no-margin">
                <thead>
                    <tr>
                        <!-- <th (click)="sort('u.id')">ID
                            <span class="glyphicon sort-icon" *ngIf="key =='u.id'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th> -->
                        <th (click)="sort('username')">Nombre de Usuario
                            <span class="glyphicon sort-icon" *ngIf="key =='username'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th (click)="sort('firstname')">Nombre
                            <span class="glyphicon sort-icon" *ngIf="key =='firstname'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th (click)="sort('up_description')">Perfil de Usuario
                            <span class="glyphicon sort-icon" *ngIf="key =='up_description'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th (click)="sort('c.name')">Empresa
                            <span class="glyphicon sort-icon" *ngIf="key =='c.name'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th (click)="sort('last_access')">Ultimo Acceso
                            <span class="glyphicon sort-icon" *ngIf="key =='last_access'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>     
                        <th (click)="sort('u.status')">Estado
                            <span class="glyphicon sort-icon" *ngIf="key =='u.status'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th *ngIf="!noaction"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of list.data" (click)="view(item)">   
                        <!-- <td>{{ item.id }}</td>                                                                        -->
                        <td>{{ item.username }}</td>
                        <td>{{ item.firstname + ' ' + item.lastname }}</td>  
                        <td>{{ item.user_profile }}</td>    
                        <td>{{ item.company }}</td>    
                        <td>{{ item.last_access }}</td>                                    
                        <td>{{ item.status ? 'Activo' : 'Inactivo' }}</td>
                        <td class="text-center" *ngIf="!noaction">
                            <a style="color:#0a6ebd;cursor: pointer;" (click)="view(item)">
                                <i class="fa fa-pencil fa-2x"></i>
                            </a>
                        </td>
                    </tr>                                          
                </tbody>
                </table>
                
            </div>

            <ngb-pagination [pageSize]="pageSize" [collectionSize]="paginationSize" [(page)]="advancedPagination" [maxSize]="maxSize" [rotate]="true" [ellipses]="false" [boundaryLinks]="true" (pageChange)="getAll()"></ngb-pagination>
            
        </div>
    </div>                  
</div>
